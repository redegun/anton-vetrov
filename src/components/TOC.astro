---
interface Props {
  headings: { depth: number; slug: string; text: string }[];
}

const { headings } = Astro.props;
const filteredHeadings = headings.filter(h => h.depth >= 2 && h.depth <= 4);
---

{filteredHeadings.length > 0 && (
  <nav class="toc">
    <div class="toc-title">Содержание</div>
    <ul class="toc-list">
      {filteredHeadings.map((heading) => (
        <li class={`toc-h${heading.depth}`}>
          <a href={`#${heading.slug}`}>{heading.text}</a>
        </li>
      ))}
    </ul>
  </nav>
)}
