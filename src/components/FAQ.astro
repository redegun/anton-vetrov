---
interface Props {
  items: { question: string; answer: string }[];
}
const { items } = Astro.props;

const schema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": items.map(item => ({
    "@type": "Question",
    "name": item.question,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": item.answer
    }
  }))
};
---
{items.length > 0 && (
  <section class="service-section">
    <h2>Частые вопросы</h2>
    <div class="faq-list">
      {items.map(item => (
        <details class="faq-item">
          <summary class="faq-question">{item.question}</summary>
          <div class="faq-answer" set:html={item.answer} />
        </details>
      ))}
    </div>
    <script type="application/ld+json" set:html={JSON.stringify(schema)} />
  </section>
)}
